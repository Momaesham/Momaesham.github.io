# C++

## Ссылка на онлайн редактор кода
[Ссылка на редактор кода](https://www.onlinegdb.com/online_c++_compiler)

Язык программирования С++ представляет высокоуровневый компилируемый язык программирования общего назначения со статической типизацией, который подходит для создания самых различных приложений. На сегодняшний день С++ является одним из самых популярных и распространенных языков.

С++ является мощным языком, унаследовав от Си богатые возможности по работе с памятью. Поэтому нередко С++ находит свое применение в системном программировании, в частности, при создании операционных систем, драйверов, различных утилит, антивирусов и т.д. К слову сказать, ОС Windows большей частью написана на С++. Но только системным программированием применение данного языка не ограничивается. С++ можно использовать в программах любого уровня, где важны скорость работы и производительность. Нередко он применяется для создания графических приложений, различных прикладных программ. Также особенно часто его используют для создания игр с богатой насыщенной визуализацией. Кроме того, в последнее время набирает ход мобильное направление, где С++ тоже нашел свое применение. И даже в веб-разработке также можно использовать С++ для создания веб-приложений или каких-то вспомогательных сервисов, которые обслуживают веб-приложения. В общем С++ - язык широкого пользования, на котором можно создавать практически любые виды программ.

## Инструкции
Программа на С++ состоит из набора инструкций. Каждая инструкция (statement) выполняет определенное действие. В конце инструкции в языке C++ ставится точка с запятой (;). Данный знак указывает компилятору на завершение инструкции. Например:

```c++	
std::cout << "Hello World!";
```

## Функция main

Каждая программа на языке С++ должна иметь как минимум одну функцию - функцию `main()`. Именно с этой функции начинается выполнение приложения. Ее имя main фиксировано и для всех программ на Си всегда одинаково.

Функция также является блоком кода, поэтому ее тело обрамляется фигурными скобками, между которыми определяется набор инструкций.

В частности, при создании первой программы использовалась следующая функция `main`:

```c++
#include <iostream>               // подключаем заголовочный файл iostream
  
int main()                          // определяем функцию main
{                                   // начало функции
    std::cout << "Hello World!";   // выводим строку на консоль
    return 0;                       // выходим из функции
}                                   // конец функции
```
Определение функии `main` начинается с возвращаемого типа. Функция `main` в любом случае должна возвращать число. Поэтому ее определение начинается с ключевого слова `int`.

Далее идет название функции, то есть `main`. После названия в скобках идет список параметров. В данном случае функция `main` не принимает никаких параметров, поэтому после названия указаны пустые скобки. 

## Директивы препроцессора

В примере выше на консоль выводится строка, но чтобы использовать вывод на консоль, необходимо в начале файла с исходным кодом подключать `библиотеку iostream` с помощью директивы `include`.

Директива `include` является директивой препроцессора. Каждая директива препроцессора размещается на одной строке. И в отличие от обычных инструкциий языка C++, которые завершаются точкой с запятой ; , признаком завершения препроцессорной директивы является перевод на новую строку. Кроме того, директива должна начинаться со знака решетки #. Непосредственно директива `include` определяет, какие файлы и библиотеки надо подключить в данном месте в код программы.

## Комментарии
Исходный код может содержать комментарии. Комментарии позволяют понять смыл программы, что делают те или иные ее части. При компиляции комментарии игнорируются и не оказывают никакого влияние на работу приложения и на его размер.

В языке C++ есть два типа комментариев: однострочный и многострочный.

Однострочный комментарий размещается на одной строке `после двойного слеша "//"`

Многострочный комментарий заключается между символами `/* текст комментария */`. Он может размещаться на нескольких строках.

## Переменные

Как и во многих языках программирования, в C++ для хранения данных используются переменные. Переменная имеет тип, имя и значение. Тип определяет, какую информацию может хранить переменная.

Перед использованием любую переменную надо определить. Синтаксис определения переменной выглядит следующим образом:

``` c++
тип_переменной имя_переменной;

int age;
```

Здесь определена переменная age, которая имеет тип `int`. Поскольку определение переменной представляет собой инструкцию, то после него ставится точка с запятой.

Также стоит учитывать, что C++ - регистрозависимый язык, а это значит, что регистр символов имеет большое значение. То есть в следующем коде будут определяться две разные переменные:

``` c++
int age;
int Age;
```

## Инициализация переменной

После определения переменной можно присвоить некоторое значение:

``` c++
int age;
age = 20;

или

int Age = 20;
```

Например, определим в прогамме переменную и выведем ее значение на консоль:
``` c++
#include <iostream>
 
int main()
{
    int age = 28;
    std::cout<<"Age = " << age;
    return 0;
}
```

## Инициализация по умолчанию

Если переменную не инициализировать, то происходит ее инициализация по умолчанию. И переменная получает некоторое значение по умолчанию, которое зависит от места, где эта переменная определена.

Если переменная, которая представляет встроенный тип (например, тип `int`), определена внутри функции, то она получает неопределенное значение. Если переменная встроенного типа определена вне функции, то она получает то значение по умолчанию, которое соответствует ее типу. Для числовых типов это число 0. Например:

``` c++
#include <iostream>
 
int x;
int main()
{
    int y;
    std::cout <<"X = " << x << "\n";
    std::cout <<"Y = " << y;
     
    return 0;
}
```

Переменная `x` определена вне функции, и поэтому она получит значение по умолчанию - число 0.

Гораздо сложнее дело обстоит с переменной y, которая определена внутри функции `main` - ее значение будет неопределенным, и многое будет зависеть от используемого компилятора. В частности, вывод программы, скомпилированной с помощью компилятора G++, может выглядеть следующим образом:

```
X = 0
Y = 4200475
```

А в Visual Studio отсутствие значения переменной y вызовет ошибку.

Но в любом случае перед использованием переменной лучше явным образом назначать ей определенное значение, а не полагаться на значение по умолчанию.

## Изменение значения

Ключевой особенностью переменных является то, что мы можем изменять их значения:
``` c++
#include <iostream>
 
int main()
{
    int x = 6;
    x = 8;
    x = 10;
    std::cout <<"X = " << x; // X = 10
     
    return 0;
}
```

## Типы данных

Каждая переменная имеет определенный тип. И этот тип определяет, какие значения может иметь переменная, какие операции с ней можно производить и сколько байт в памяти она будет занимать. В языке C++ определены следующие базовые типы данных:
* `bool`: логический тип. Может принимать одну из двух значений `true` (истина) и `false` (ложь). Размер занимаемой памяти для этого типа точно не определен.
* `char`: представляет один символ в кодировке ASCII. Занимает в памяти 1 байт (8 бит). Может хранить любое значение из диапазона от -128 до 127, либо от 0 до 255
* `int`: представляет целое число. В зависимости от архитектуры процессора может занимать 2 байта (16 бит) или 4 байта (32 бита). Диапазон предельных значений соответственно также может варьироваться от –32768 до 32767 (при 2 байтах) или от −2 147 483 648 до 2 147 483 647 (при 4 байтах). Но в любом случае размер должен быть больше или равен размеру типа short и меньше или равен размеру типа long
* `float`: представляет вещественное число ординарной точности с плавающей точкой в диапазоне +/- 3.4E-38 до 3.4E+38. В памяти занимает 4 байта (32 бита)

> Все типы данных могут быть разделены на три группы: `символьные` (char, wchar_t, char16_t, char32_t), `целочисленные` (short, int, long, long long) и типы `чисел с плавающей точкой` (float, double, long double).

## Символьный тип

Для представления символов в приложении используются тип `char`.

``` c++
char c ='d';
```

> Переменная типа char в качестве значения принимает один символ в одинарных кавычках: `char c ='d'`.

## Целочисленный тип

``` c++
int c = -30;
```
## Типы чисел с плавающей точкой

```c++
float a = -10.45;
double b = 0.00105;
```

## Константы

Отличительной особенностью переменных является то, что мы можем многократно в течение работы программы изменять их значение:

```c++
int x = 7;
x = 9;
x = 5;
```

Но кроме переменных в языке программирования C++ можно определять константы. Их значение устанавливается один раз и впоследствии мы его не можем изменить. Константа определяется практически также, как и переменная за тем исключением, что в начале определения константы идет ключевое слово const. Например:

```c++
const int x = 22;
std::cout << x;
```

# Арифметические операции

Арифметические операции производятся над числами. Значения, которые участвуют в операции, называются операндами.

* +

Операция сложения возвращает сумму двух чисел:

```c++
int a = 10;
int b = 7;
int c = a + b;  // 17
int d = 4 + b;  // 11
```
* `-`

Операция вычитания возвращает разность двух чисел:

```c++
int a = 10;
int b = 7;
int c = a - b;  // 3
int d = 41 - b; // 34
```

* `*`

Операция умножения возвращает произведение двух чисел:

```c++
int a = 10;
int b = 7;
int c = a * b;  // 70
int d = b * 5;  // 35
```

* `/`

Операция деления возвращает частное двух чисел:

```c++
int a = 20;
int b = 5;
int c = a / b;  // 4
double d = 22.5 / 4.5;  // 5
```

>При делении стоит быть внимательным, так как если в операции участвуют два целых числа, то результат деления будет округляться до целого числа, даже если результат присваивается переменной float или double:
> ```c++
> double k = 10 / 4;  
> std::cout << k;  // 2
> ```

>Чтобы результат представлял числос плавающей точкой, один из операндов также должен представлять число с плавающей точкой:
>```c++
> double k = 10.0 / 4; 
> std::cout << k;  // 2.5
> ```


* `%`

Операция получения остатка от целочисленного деления:
```c++
int a = 33;
int b = 5;
int c = a % b;  // 3
int d = 22 % 4; // 2 (22 - 4*5 = 2)
```

* `Префиксный инкремент`

Увеличивает значение переменной на единицу и полученный результат используется как значение выражения `++x`

```c++
int a = 8;
int b = ++a;
std::cout << a << "\n"; // 9
std::cout << b << "\n"; // 9
```

* `Постфиксный инкремент`

Увеличивает значение переменной на единицу, но значением выражения `x++` будет то, которое было до увеличения на единицу

```c++
int a = 8;
int b = a++;
std::cout << a << "\n"; // 9
std::cout << b << "\n"; // 8
```

* `Префиксный декремент`

Уменьшает значение переменной на единицу, и полученное значение используется как значение выражения `--x`

```c++
int a = 8;
int b = --a;
std::cout << a << "\n"; // 7
std::cout << b << "\n"; // 7
```

* `Постфиксный декремент`

Уменьшает значение переменной на единицу, но значением выражения `x--` будет то, которое было до уменьшения на единицу

```c++
int a = 8;
int b = a--;
std::cout << a << "\n"; // 7
std::cout << b << "\n"; // 8
```

Арифметические операции вычисляются слева направо. Одни операции имеют больший приоритет чем другие и поэтому выполняются вначале. Операции в порядке уменьшения приоритета:

+ (инкремент), - (декремент)
* (умножение), / (деление), % (остаток от деления)
+ (сложение), - (вычитание)

# Операции отношения

В языке программирования C++ есть следующие операции отношения:

* `==`

Операция "равно". Возвращает true, если оба операнда равны, и false, если они не равны:

```c++
int a = 10;
int b = 4;
bool c = a == b;    // false
bool d = a == 10;       // true
```

* `>`

Операция "больше чем". Возвращает true, если первый операнд больше второго, и false, если первый операнд меньше второго:

```c++
int a = 10;
int b = 4;
bool c = a > b;  // true
```

* `<`

Операция "меньше чем". Возвращает true, если первый операнд меньше второго, и false, если первый операнд больше второго:

```c++
bool c = 10 < 4; // false
```

* `<=`

Операция "меньше или равно". Возвращает true, если первый операнд меньше или равен второму, и false, если первый операнд больше второго:

```c++
bool c = 10 <= 4;    // false
bool d = 10 <= 14;   // true
```

* `>=`

Операция "больше или равно". Возвращает true, если первый операнд больше или равен второму, и false, если первый операнд меньше второго:

```c++
bool c = 10 >= 4;    // true
bool d = 10 >= 14;   // false
```

* `!=`

Операция "не равно". Возвращает true, если первый операнд не равен второму, и false, если оба операнда равны:

```c++
bool c = 10 != 4;   // true
bool d = 4 != 4;    // false
```

Обычно операции отношения применяются в условных конструкциях типа if...else, которые будут рассмотрены далее.

## Логические операции

Логические операции обычно объединяют несколько операций отношения. К логическим операциям относят следующие:

* `!` (операция отрицания)

Унарная операция, которая возвращает true, если операнд равен false. Если операнд равен true, операция возвращает false.

```c++
bool a = true;
bool b = !a;    // false
bool c =!10<5;   // true
```

* `&&` (конъюнкция, логическое умножение)

Возвращает true, если оба операнда не равны false. Возвращает false, если хотя бы один операнд равен false.

```c++
bool a = true;
bool b = false;
bool c = a && b;    // false
bool d = a && true; // true
```

* `||` (дизъюнкция, логическое сложение)

Возвращает true, если хотя бы один операнд равен true. Возвращает false, если оба операнда равны false.

```c++
bool a = true;
bool b = false;
bool c = a || b;        // true
bool d = b || false;    // false
```

# Ввод и вывод в консоли

По умолчанию язык C++ не содержит встроенных средств для ввода с консоли и вывода на консоль, эти средства предоставляются библиотекой `iostream`. В ней определены два типа: `istream` и `ostream`. `istream` представляет поток ввода, а `ostream` - поток вывода.

Вобще сам темин "поток" в данном случае представляет последовательность символов, которая записывается на устройство ввода-вывода или считывается с него. И в данном случае под устройством ввода-вывода рассматривается консоль.

Для записи или вывода символов на консоль применяется объект `cout`, который представляет тип `ostream`. А для чтения с консоли используется объект `cin`

Для использования этих объектов в начало исходного файла необходимо подключить библиотеку `iostream`:

```c++
#include <iostream>
```

## Вывод на консоль

Для вывода на консоль применяется оператор `<<`. Этот оператор получает два операнда. Левый операнд представляет объект типа `ostream`, в данном случае объект `cout`. А правый операнд - значение, которое надо вывести на консоль.

Так как оператор `<<` возвращает левый операнд - `cout`, то с помощью цепочки операторов мы можем передать на консоль несколько значений. Например, определим простейшую программу вывода на консоль:

```c++
#include <iostream>
 
int main()
{   
    int age = 33;
    double weight = 81.23;
    std::cout << "Name: " << "Tom" << "\n";
    std::cout << "Age: " << age << std::endl;
    std::cout << "Weight: " << weight << std::endl;
    return 0;
}
```

Оператору << передаются различные значения - строки, значения переменных, которые выводятся на консоль.

Строки могут содержать управляющие последовательности, которые интерпретируются определенным образом. Например, последовательность `"\n"` интерпретируется как перевод на новую строку. Из других управляющих последовательностей также нередко употребляется `"\t"`, которая интерпретируется как табуляция.

Также цепочку операторов << можно завершать значением `std::endl`, которое вызывает перевод на новую строку и сброс буфера. При выводе в поток данные вначале помещаются в буфер. И сброс буфера гарантирует, что все переданные для вывода на консоль данные немедлено будут выведены на консоль.

## Ввод с консоли

Для считывания с консоли данных применяется оператор ввода `>>`, который принимает два операнда. Левый операнд представляет объект типа `istream` (в данном случае объект `cin`), с которого производится считывание, а правый операнд - объект, в который считываются данные.

Например, считаем данные с консоли:

```c++
#include <iostream>
 
int main()
{   
    int age;
    double weight;
    std::cout << "Input age: ";
    std::cin >> age;
    std::cout << "Input weight: ";
    std::cin >> weight;
    std::cout << "Your age: " << age << "\t your weight: " << weight << std::endl;
    return 0;
}
```

Здесь после приглашений к вводу программа ожидает ввода значений для переменных age и weight.

Стоит отметить, что так оператор ввода в первом случае будет добавлять данные в целочисленную переменную `age`, то он ожидает ввода числа. В случае с переменной `weight` оператор ввода ожидает дробное число, причем разделителем целой и дробной части должна быть точка. Поэтому мы не можем ввести любые значения, например, строки. В этом случае программа может выдать некорректный результат.

Оператор ввода `>>` возвращает левый операнд - объект `cin`, поэтому мы можем по цепочке считывать данные в различные переменные:

```c++
#include <iostream>
 
int main()
{   
    int age;
    double weight;
    std::cout << "Input age: ";
    std::cin >> age >> weight;
    std::cout << "Your age: " << age << "\t your weight: " << weight << std::endl;
    return 0;
}
```

## Пространства имен и using

При чтении и записи в предыдущих темах использовались объекты `std::cout` и `std::cin` соответственно. Причем они использовались с префиксом `std::`. Этот префикс указывает, что объекты `cout`, `cin`, `endl` определены в пространствен имен `std`. А само двойное двоеточие :: представляет оператор области видимости (scope operator), который позволяет указать, в каком пространсте имен определен объект. И без префикса эти объекты по умолчанию мы использовать не можем.

Однако подобная запись может показаться несколько громоздкой. И в этом случае можно использовать оператор `using`, который позволяет ввести в программу объекты из различных пространств имен.

Использование оператора `using` имеет следующй формат:

```c++
using пространство_имен::объект
```

Здесь используются сразу три объекта из програнства имен `std:` `cout`, `cin` и `endl`. Перепишем программу с использованием `using`:

```c++
#include <iostream>
using std::cin;
using std::cout;
using std::endl;
 
int main()
{   
    int age;
    cout << "Input age: ";
    cin >> age;
    cout << "Your age: " << age << endl;
    return 0;
}
```

Для каждого объекта из пространства `std` определяется свое выражение `using`. При этом программа будет работать также как и раньше.

# Условные конструкции

Условные конструкции направляют ход программы по одному из возможных путей в зависимости от условия.

## Конструкция if

Конструкция `if` проверяет истинность условия, и если оно истинно, выполняет блок инструкций. Этот оператор имеет следующую сокращенную форму:

```c++
if (условие)
{
    инструкции;
}
```

В качестве условия использоваться условное выражение, которое возвращает `true` или `false`. Если условие возвращает `true`, то выполняются последующие инструкции, которые входят в блок `if`. Если условие возвращает `false`, то последующие инструкции не выполняются. Блок инструкций заключается в фигурные скобки.

Также мы можем использовать полную форму конструкции `if`, которая включает оператор `else`:

```c++
if(выражение_условия)
    инструкция_1
else
    инструкция_2
```

После оператора `else` мы можем определить набор инструкций, которые выполняются, если условие в операторе `if` возвращает `false`. То есть если условие истинно, выполняются инструкции после оператора `if`, а если это выражение ложно, то выполняются инструкции после оператора `else`.

```c++
int x = 50;
if(x > 60) 
    std::cout << "x is greater than 60 \n";
else
    std::cout << "x is less or equal 60 \n";
```

## Тернарный оператор

Тернарный оператор `?:` позволяет сократить определение простейших условных конструкций `if` и имеет следующую форму:

> [первый операнд - условие] ? [второй операнд] : [третий операнд]

Оператор использует сразу три операнда. В зависимости от условия тернарный оператор возвращает второй или третий операнд: если условие равно `true` (то есть истинно), то возвращается второй операнд; если условие равно `false` (то есть ложно), то третий.

```c++
#include <iostream>
 
int main()
{
    int result = 5 < 3 ? 5 + 3 : 5 - 3;
    std::cout << "Результат: " << result << "\n";
    return 0;
}
```


# Циклы

---

Для выполнения некоторых действий множество раз в зависимости от определенного условия используются циклы. В языке C++ имеются следующие виды циклов:

* for
* while
* do...while

## Цикл while

---

Цикл `while` выполняет некоторый код, пока его условие истинно, то есть возвращает `true`. Он имеет следующее формальное определение:

```c++
while(условие)
{
    // выполняемые действия
}
```

После ключевого слова `while` в скобках идет условное выражение, которое возвращает `true` или `false`. Затем в фигурных скобках идет набор инструкций, которые составляют тело цикла. И пока условие возвращает `true`, будут выполняться инструкции в теле цикла.

Например, выведем квадраты чисел от 1 до 9:

```c++
#include <iostream>
 
int main()
{   
    int i = 1;
    while(i < 10)
    {
        std::cout << i << " * " << i << " = " << i * i << std::endl;
        i++;
    }
     
    return 0;
}
```

> Здесь пока условие i < 10 истинно, будет выполняться цикл `while`, в котором выводится на консоль квадрат числа и инкрементируется переменная i. В какой-то момент переменная i увеличится до 10, условие i < 10 возвратит `false`, и цикл завершится.

> Каждый отдельный проход цикла называется итерацией. То есть в примере выше было 9 итераций.

## Цикл for

---

Цикл `for` имеет следующее формальное определение:

```c++
for (выражение_1; выражение_2; выражение_3)
{
    // тело цикла
}
```

`выражение_1` выполняется один раз при начале выполнения цикла и представляет установку начальных условий, как правило, это инициализация счетчиков - специальных переменных, которые используются для контроля за циклом.

`выражение_2` представляет условие, при соблюдении которого выполняется цикл. Как правило, в качестве условия используется операция сравнения, и если она возвращает ненулевое значение (то есть условие истинно), то выполняется тело цикла, а затем вычисляется выражение_3.

`выражение_3` задает изменение параметров цикла, нередко здесь происходит увеличение счетчиков цикла на единицу.

Например, перепишем программу по выводу квадратов чисел с помощью цикла for:

#include <iostream>
 
```c++
int main()
{   
    for(int i =1; i < 10; i++)
    {
        std::cout << i << " * " << i << " = " << i * i << std::endl;
    }
     
    return 0;
}
```

## Цикл do

В цикле `do` сначала выполняется код цикла, а потом происходит проверка условия в инструкции `while`. И пока это условие истинно, то есть не равно 0, то цикл повторяется. Формальное определение цикла:

```c++
do
{
    инструкции
}
while(условие);
```

Например:

```c++
#include <iostream>
 
int main()
{   
    int i = 6;
    do
    {
        std::cout << i << std::endl;
        i--;
    }
    while(i>0);
     
    return 0;
}
```

## Операторы `continue` и `break`

Иногда возникает необходимость выйти из цикла до его завершения. В этом случае можно воспользоваться оператором `break`. Например:

```c++
#include <iostream>
 
int main()
{
    for (int i = 0; i < 100; i++)
    {
        std::cout << i << " * " << i << " = " << i * i << std::endl;
        if (i > 9) break;
    }
    return 0;
}
```

Здесь когда значение переменной i достигнет 10, осуществляется выход из цикла с помощью оператора `break`.

В отличие от оператора `break`, оператор `continue` производит переход к следующей итерации. Например, нам надо посчитать сумму только нечетных чисел из некоторого диапазона:

```c++
#include <iostream>
int main()
{
    int result = 0;
    for (int i=0; i<10; i++)
    {
        if (i % 2 == 0) continue;
        result +=i;
    }
    std::cout << "result = " << result << std::endl; // 25
    return 0;
}
```

Чтобы узнать, четное ли число, мы получаем остаток от целочисленного деления на 2, и если он равен 0, то с помощью оператора `continue` переходим к следующей итерации цикла. А если число нечетное, то складываем его с остальными нечетными числами.
